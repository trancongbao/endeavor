CREATE ROLE app LOGIN NOINHERIT;

GRANT CONNECT 
ON DATABASE postgres 
TO app;

GRANT USAGE 
ON SCHEMA app 
TO app;

GRANT SELECT, INSERT, UPDATE, DELETE
ON ALL TABLES 
IN SCHEMA app
TO app;

GRANT USAGE, SELECT 
ON ALL SEQUENCES 
IN SCHEMA app 
TO app;

ALTER DEFAULT PRIVILEGES
FOR ROLE flyway
IN SCHEMA app
GRANT SELECT, INSERT, UPDATE, DELETE
ON TABLES
TO app;

ALTER DEFAULT PRIVILEGES
FOR ROLE flyway
IN SCHEMA app
GRANT USAGE, SELECT
ON SEQUENCES
TO app;